---
import '../styles/styletitle.css'

---



<html lang="en">
	<head>				    	
    	<meta charset="utf-8" />
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Doppleruv efekt</title>				
	</head>
	<body>	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
		<script type="module">          
            
            let x = 50;
            let y = 50;
            function setup() {
                const canvas = createCanvas(400, 400);
                canvas.parent(canvasRef.current);
            }

            function draw() {
                background(220);

                if (animationIsRunning) {
                    // Simple animation logic
                    x += 2;
                    y += 1;

                    // Reset position when reaching the canvas boundary
                    if (x > width) {
                        x = 0;
                    }

                    if (y > height) {
                        y = 0;
                    }
                }

                // Draw the border
                stroke(0);
                noFill();
                rect(0, 0, width, height);

                // Draw the ellipse
                ellipse(x, y, 50, 50);
            }         

        </script>
		<button onclick="startSound()">Play Sine Wave</button>
		<button onclick="stopSound()">Stop</button>
		<script>
			let audioContext = new (window.AudioContext || window.webkitAudioContext)();
			let oscillator;
		
			function startSound() {
			  oscillator = audioContext.createOscillator();
			  oscillator.type = 'sine'; // You can change the waveform to 'square', 'sawtooth', or 'triangle'
			  oscillator.frequency.setValueAtTime(440, audioContext.currentTime); // Set the initial frequency (440 Hz in this case)
			  oscillator.connect(audioContext.destination);
			  oscillator.start();
			}
		
			function stopSound() {
			  if (oscillator) {
				oscillator.stop();
				oscillator.disconnect();
			  }
			}
		  </script>
	
	</body>
</html>

